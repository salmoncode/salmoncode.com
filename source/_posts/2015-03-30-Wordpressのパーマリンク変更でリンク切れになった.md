---
title: Wordpressのパーマリンク変更でリンク切れになった
date: 2015-03-30 10:52:47
category: Wordpress
---

最近このサイトのテーマを変更した。シンプルで好みである。

## パーマリンクを変更したらエラーになった

テーマの変更に伴って前から気になっていたパーマリンクの設定をしておこうということになった。
以前までは
<a href="https://salmon2073.net?p=xxx">https://salmon2073.net?p=xxx</a>
だったのだが、これはイマイチかっこ悪い。あと、SNSでリンクを共有したりするときにアドレスからだいたいどんなことを書いているのか分かったほうがいいだろうと思ったので、

http;//salmon2073.net/%postname%

のような形にすることにした。

ところが、いざ設定してみると記事のページがリンク切れになってしまった。
検索してみたところ理由はリダイレクトの設定がきちんとできてないことらしく、プラグインを導入することで解決できるそうだ。
試しに紹介されている「Permalink Redirect」というプラグインを導入してみたがどうも解決しない…　どうやら.htaccessが悪さをしているようだがよく分からない。
仕方なく前の記事は諦めて新しい記事を作ってみたのだが、下書き中のプレビューはできるのに公開して確認してみるとリンク切れになっていた。

## 原因はApacheのモジュールだった

ここで原因はApacheにあるのではないかと思いついた。
改めて調べてみると、「Rewrite」というモジュールが有効になってないのではないかとのこと。
そこでターミナルから、

```
sudo a2enmod rewrite
sudo service apache2 restart
```

としたら解決した。
ちなみに自分の環境はUbuntuの14.04amd64で、さくらのvpsの2Gプランを借りて使っている。

