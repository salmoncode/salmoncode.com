---
title: Processing mousePressedとkeyPressed
date: 2014-01-02 15:55:10
category: プログラミング
tags: Processing
---

## はじめに

以前にマウスの使い方と称して mouseX,mouseY について述べたことがあるが、マウスといえばクリックである。
対話性のある（インタラクティブな）プログラムをつくろうとした場合、マウスがクリックされたりキーボードが押されたりといった判定が欲しくなることがあるだろう。
今回は、Processing におけるマウスのクリック、キーボード入力の判定に焦点をあててみたい。



## mousePressed について

後ろの単語の頭文字が大文字になっていることから予想がつく人もいると思うが、mousePressed とは Processing に用意されているメソッドと呼ばれるもので、マウスのクリックを判定することができる。
ここでは、メソッドが何かよりも mousePressed の具体的な使い方について解説しよう。
使用法は setup,draw と同じで、
void mousePressed(){
「マウスが押された時の処理」
}
である。
それでは、さっそく mousePressed を使ったプログラムを書いてみよう。
<br />int r;<br />void setup() {<br />  size(400, 400);<br />  r = 1;<br />}
void draw() {<br />  background(255);<br />  fill(255, 0, 0);<br />  ellipse(200, 200, r*5, r*5);<br />}
void mousePressed() {<br />  r = r+1;<br />}
例によって、上記をコピペまたは記述して実行してみて欲しい。ウィンドウの真ん中に小さい円が表示されていれば成功である。では、ウィンドウのなかでクリックをしてみよう。円が大きくなるはずである。
楽しい。
  これを応用することで、プログラミングの幅が大きく広がることは間違いないだろう。



## keyPressed について

いうまでもなく、こちらも Proseccing に用意されているメソッドのひとつで、キーボード入力の判定をすることができる。
使用法もまた、
void keyPressed() {<br />  「キーボード入力がされた時の処理」<br />}
と扱いやすい。
しかし、これだけでは全てのキーについて判定がされてしまう。
RPG ゲームを作りたかったらカーソルキーで進行方向を分ける、というようにキーを判別したいことがあるだろう。その方法についても解説したい。
アルファベットや数字の場合、
void keyPressed() {<br />  if(<span style="color: #cc00cc;">key</span> ==  '「判定するキー」' ){<br />「そのキーが押された時の処理」  <br />  }<br />}
である。
この時、判定するキーを ’　’ で囲むことを忘れないように注意しよう。

ENTER キーやカーソルキーを判定したい場合、
void keyPressed() {<br />  if(<span style="color: #cc00cc;">keyCode</span> ==  「判定するキー」 ){<br />「そのキーが押された時の処理」  <br />  }<br />}
である。
この時、判定するキーは、全て大文字で入力する（ '　'で囲む必要はない ）。具体例をしめそう。
ENTER
SPACE
UP
DOWN
RIGHT
LEFT
このあたりがよく使われるのではないだろうか。ちなみに、下４つはカーソルキーである。
それでは、さっそく keyPressed をつかったプログラムを書いてみよう。
<br />int x;<br />int y;
void setup() {<br />  size(400, 400);<br />  x = 20;<br />  y = 20;<br />}
void draw() {<br />  background(255);<br />  fill(255, 0, 0);<br />  ellipse(x*10, y*10, 50, 50);<br />}
void keyPressed() {<br />  if (keyCode == UP) {<br />    y--;<br />  }<br />  if (keyCode == DOWN) {<br />    y++;<br />  }<br />  if (keyCode == RIGHT) {<br />    x++;<br />  }<br />  if (keyCode == LEFT) {<br />    x--;<br />  }<br />}
多少長めのプログラムになった。カーソルキーによって中心の円を移動させることができれば成功である。
簡単に解説すると、変数 x と y を用意し、カーソルキーの判定でそれらを増減させている（x++;のような書き方は覚えているだろうか？）。
まるで RPG の主人公を操作している気分を味わえる。



## 終わりに

マウスのクリックやキーボード入力を判定することで、現実世界からの情報を取得することができ、このことはプログラミング感、というよりはインタラクション性をより感じさせてくれるだろう。



##  
